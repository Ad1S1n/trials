function main(){const generateBtn=document.getElementById("generateBtn"),dataBox=document.getElementById("dataBox"),downloadBtn=document.getElementById("downloadBtn"),qrcode=document.getElementById("qrcode"),qrdiv=document.getElementById("qrdiv"),errorClassName="error",shakeClassName="shake",dataBoxClassName="dataBox",toHideClassName="hide",qrdivClassName="qrdiv";var QR_CODE=new QRCode("qrcode",{width:180,height:180,colorDark:"#000000",colorLight:"#fff",correctLevel:QRCode.CorrectLevel.H});function markDataBoxError(){const prevClassName=dataBox.className;dataBox.className=prevClassName+" error shake",vibrate(),setTimeout(()=>{dataBox.className=prevClassName+" error"},500)}function generateQRCode(data){QR_CODE.clear(),QR_CODE.makeCode(data),qrdiv.className="qrdiv"}function vibrate(){Boolean(window.navigator.vibrate)&&window.navigator.vibrate([100,100,100])}function downloadImage(image,filename){var element=document.createElement("a");element.setAttribute("href",image),element.setAttribute("download",filename),element.setAttribute("class","hide"),document.body.appendChild(element),element.click(),document.body.removeChild(element)}generateBtn.onclick=function(e){e.preventDefault();const data=dataBox.value;data?(generateQRCode(data),document.querySelector(".nameTag").innerHTML=data):markDataBoxError()},dataBox.onfocus=function(e){const classList=dataBox.classList;classList.contains("error")&&(dataBox.className="dataBox")},downloadBtn.onclick=function(e){const data=dataBox.value,img=qrcode.getElementsByTagName("img")[0],canvas=qrcode.getElementsByTagName("canvas")[0],padding=40;canvas.width=canvas.width+40,canvas.height=canvas.height+50+40;const context=canvas.getContext("2d");context.clearRect(0,0,canvas.width,canvas.height),context.fillStyle="#ffffff",context.fillRect(0,0,canvas.width,canvas.height),context.fillStyle="#000",context.font="600 30px 'Baloo Bhai 2', cursive",context.textAlign="center",context.fillText(data,canvas.width/2,240),context.drawImage(img,20,20);const image=canvas.toDataURL("image/png",1),filename="QR_Code_"+Date.now()+".png";downloadImage(image,filename)}}main();